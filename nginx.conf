server {
    listen 80;
    server_name _;

    # Default nginx html dir inside the container
    root /usr/share/nginx/html;
    index index.html;

    # Optional: redirect / -> /todo-app/
    location = / {
        return 301 /todo-app/;
    }

    # Serve the app from /todo-app
    location /todo-app/ {
        # Use alias so that /todo-app/* maps to /usr/share/nginx/html/todo-app/*
        alias /usr/share/nginx/html/todo-app/;

        # SPA-friendly: if file not found, serve index.html
        try_files $uri $uri/ /usr/share/nginx/html/todo-app/index.html;
    }
}

